@using DVSRegister.BusinessLogic.Models.CAB;
@using DVSRegister.CommonUtility
@using DVSRegister.Extensions
@model ProviderDetailsViewModel
@{
    ViewData["Title"] = "Provider profile information";
    Layout = "~/Views/Shared/_LayoutLoggedIn.cshtml";
}

<div class="govuk-width-container">
    @Html.ActionLink("Back", "ProviderOverview", "Cab", new { providerId = Model.Provider.Id}, new { @class = "govuk-back-link" })
    <main id="main-content" class="govuk-main-wrapper" role="main">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">

                <h1 class="govuk-heading-xl">
                    @Model.Provider.RegisteredName  profile information
                </h1>
            </div>
            <div class="govuk-grid-column-full">
                <div class="govuk-summary-card">
                    <div class="govuk-summary-card__title-wrapper">
                        <h2 class="govuk-summary-card__title">
                            Company information
                        </h2>

                       @if(Model.IsCompanyInfoEditable)
                        {
                            <ul class="govuk-summary-card__actions">
                                <li class="govuk-summary-card__action">
                                    @Html.ActionLink("Change", "EditCompanyInformation", "CabProvider", new { providerId = Model.Provider.Id },
                                    new
                                    {
                                        @class = "govuk-link",
                                        @aria_label = "Change digital identity and attribute service provider’s company information"
                                    })
                                </li>
                            </ul>
                        }
                       
                    </div>
                    <div class="govuk-summary-card__content">
                        <dl class="govuk-summary-list">
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Registered name
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.RegisteredName
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Trading name
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Html.DisplayFor(model => model.Provider.TradingName)
                                </dd>
                            </div>
                            @if (Model.Provider.HasParentCompany)
                            {
                                <div class="govuk-summary-list__row">
                                    <dt class="govuk-summary-list__key">
                                        Registered name of parent company
                                    </dt>
                                    <dd class="govuk-summary-list__value">
                                        @Model.Provider.ParentCompanyRegisteredName
                                    </dd>
                                </div>

                                <div class="govuk-summary-list__row">
                                    <dt class="govuk-summary-list__key">
                                        Location of parent company
                                    </dt>
                                    <dd class="govuk-summary-list__value">
                                        @Model.Provider.ParentCompanyLocation
                                    </dd>
                                </div>
                            }


                            @if (Model.Provider.HasRegistrationNumber)
                            {
                                <div class="govuk-summary-list__row">
                                    <dt class="govuk-summary-list__key">
                                        Companies House or charity
                                        registration number
                                    </dt>
                                    <dd class="govuk-summary-list__value">
                                        @Model.Provider.CompanyRegistrationNumber
                                    </dd>
                                </div>
                            }
                            else
                            {
                                <div class="govuk-summary-list__row">
                                    <dt class="govuk-summary-list__key">
                                        Companies House or charity
                                        registration number
                                    </dt>
                                    <dd class="govuk-summary-list__value">
                                       @Constants.NullFieldsDisplay
                                    </dd>
                                </div>
                                <div class="govuk-summary-list__row">
                                    <dt class="govuk-summary-list__key">
                                        D U-N-S number
                                    </dt>
                                    <dd class="govuk-summary-list__value">
                                        @Model.Provider.DUNSNumber
                                    </dd>
                                </div>
                                
                            }

                        </dl>
                    </div>
                </div>

                <div class="govuk-summary-card">
                    <div class="govuk-summary-card__title-wrapper">
                        <h2 class="govuk-summary-card__title">
                            Primary contact’s details
                        </h2>
                       
                            <ul class="govuk-summary-card__actions">
                                <li class="govuk-summary-card__action">
                                @Html.ActionLink("Change", "EditPrimaryContact", "CabProvider", new { providerId = Model.Provider.Id },
                                    new
                                    {
                                        @class = "govuk-link",
                                        @aria_label = "Change digital identity and attribute service provider’s primary contact details"
                                    })
                                </li>
                            </ul>
                       
                    </div>
                    <div class="govuk-summary-card__content">
                        <dl class="govuk-summary-list">
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Full name of primary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.PrimaryContactFullName
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Job title of primary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.PrimaryContactJobTitle
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Email address of primary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.PrimaryContactEmail
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Telephone number of primary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.PrimaryContactTelephoneNumber
                                </dd>
                            </div>
                        </dl>
                    </div>
                </div>

                <div class="govuk-summary-card">
                    <div class="govuk-summary-card__title-wrapper">
                        <h2 class="govuk-summary-card__title">
                            Secondary contact’s details
                        </h2>
                       
                            <ul class="govuk-summary-card__actions">
                                <li class="govuk-summary-card__action">
                                @Html.ActionLink("Change", "EditSecondaryContact", "CabProvider", new { providerId = Model.Provider.Id },
                                    new
                                    {
                                        @class = "govuk-link",
                                        @aria_label = "Change digital identity and attribute service provider’s secondary contact details"
                                    })
                                </li>
                            </ul>
                      
                    </div>
                    <div class="govuk-summary-card__content">
                        <dl class="govuk-summary-list">
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Full name of secondary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.SecondaryContactFullName
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Job title of secondary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.SecondaryContactJobTitle
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Email address of primary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.SecondaryContactEmail
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Telephone number of primary contact
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.SecondaryContactTelephoneNumber
                                </dd>
                            </div>
                        </dl>
                    </div>
                </div>

                <div class="govuk-summary-card">
                    <div class="govuk-summary-card__title-wrapper">
                        <h2 class="govuk-summary-card__title">
                            Public provider information
                        </h2>
                       
                            <ul class="govuk-summary-card__actions">
                                <li class="govuk-summary-card__action">
                                @Html.ActionLink("Change", "EditPublicProviderInformation", "CabProvider", new { providerId = Model.Provider.Id },
                                    new
                                    {
                                        @class = "govuk-link",
                                        @aria_label = "Change digital identity and attribute service provider’s secondary contact details"
                                    })
                                </li>
                            </ul>
                     
                    </div>
                    <div class="govuk-summary-card__content">
                        <dl class="govuk-summary-list">
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Contact email
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Html.DisplayFor(model => model.Provider.PublicContactEmail)
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Telephone number
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Html.DisplayFor(model => model.Provider.ProviderTelephoneNumber)
                                </dd>
                            </div>
                            <div class="govuk-summary-list__row">
                                <dt class="govuk-summary-list__key">
                                    Website address
                                </dt>
                                <dd class="govuk-summary-list__value">
                                    @Model.Provider.ProviderWebsiteAddress
                                </dd>
                            </div>
                        </dl>
                    </div>
                </div>
            </div>
            @if (!Model.IsCompanyInfoEditable)
            {
                <div class="govuk-grid-column-two-thirds">
                    <div class="govuk-warning-text">
                        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                        <strong class="govuk-warning-text__text">
                            <span class="govuk-visually-hidden">Warning</span>
                            To make changes to the information shown, contact digital.identity.register@dsit.gov.uk
                        </strong>
                    </div>
                </div>
            }          
        </div>
    </main>
</div>

